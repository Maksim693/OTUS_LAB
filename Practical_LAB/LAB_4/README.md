# Практическая работа №4
## Проектирование сети
#### В данной самостоятельной работе необходимо распланировать адресное пространство. Настроить IP на всех активных портах для дальнейшей работы над проектом. Адресное пространство должно быть задокументировано.
------------
### *Для выполнения самостоятельной работы необходимо:*
1. [Разработать и задокументировать адресное пространство для лабораторного стенда](#адресное-пространство-для-лабораторного-стенда)
2. [Настроить ip адреса на каждом активном порту](#настройка-ip-адресов-на-активных-портах)
3. [Настроить каждый VPC в каждом офисе в своем VLAN](#создание-сети-и-настройка-основных-параметров-устройства)
4. [Настроить VLAN/Loopbackup interface управления для сетевых устройств](#создание-сети-и-настройка-основных-параметров-устройства)
5. [Настроить сети офисов так, чтобы не возникало broadcast штормов, а использование линков было максимально оптимизировано](#создание-сети-и-настройка-основных-параметров-устройства)
6. [Использовать необходимо IPv4 (IPv6 по желанию)](#создание-сети-и-настройка-основных-параметров-устройства)
------------

### Адресное пространство для лабораторного стенда
##### ***Москва (AS 1001)***
| Network / Mask | Описание | Линк |
| :------------- | :------- | :--- |
| 10.10.0.0/27 | Москва | Loopback0 (MGMT) |
| 10.244.0.0/24 | Москва | MGMT_SW_Vlan_1210 |
| 10.120.0.0/24 | Москва | PtP-Link (local) |
| 212.100.1.0/30 | Москва | WAN R14-R22(Киторн) |
| 212.95.0.0/30 | Москва | WAN R15-R21(Ламас) |
| 192.168.0.0/24 | Москва | Client (Vlan 20) |
| 192.168.1.0/24 | Москва | Client (Vlan 30) |

##### ***C.-Петербург (AS 2042)***
| Network / Mask | Описание | Линк |
| :------------- | :------- | :--- |
| 10.11.0.0/26 | С.-Петербург | Loopback0 |
| 10.243.0.0/24 | С.-Петербург | MGMT_SW_Vlan_1210 |
| 10.121.0.0/24 | Москва | PtP-Link (local) |
| 89.100.1.0/30 | С.-Петербург | WAN R18-R24(Триада) |
| 89.95.0.0/30 | С.-Петербург | WAN_Rez R18-R26(Триада) |
| 192.168.64.0/24 | С.-Петербург | Client (Vlan 40) |
| 192.168.65.0/24 | С.-Петербург | Client (Vlan 50) |

##### ***Чокурдах***
| Network / Mask | Описание | Линк |
| :------------- | :------- | :--- |
| 10.12.0.28/32 | Чокудах | Loopback0 |
| 10.242.0.0/30 | Чокудах | MGMT_SW_Vlan_1210 |
| 100.100.1.0/30 | Чокудах | WAN R28-R25(Триада) |
| 100.95.0.0/30 | Чокудах | WAN_Rez (R28-R26(Триада) |
| 192.168.128.0/24 | Чокудах | Client (Vlan 60) |
| 192.168.129.0/24 | Чокудах | Client (Vlan 70) |

##### ***Лабытнанги***
| Network / Mask | Описание | Линк |
| :------------- | :------- | :--- |
| 10.13.0.27/32 | Лабытнанги | Loopback0 |
| 50.100.1.0/30 | Лабытнанги | WAN R27-R25(Триада) |

##### ***Триада (AS 520)***
| Network / Mask | Описание | Линк |
| :------------- | :------- | :--- |
| 10.14.0.0/27 | Триада | Loopback0 |
| 10.241.0.0/24 | Триада | PtP-Link (local) |
| 100.100.1.0/30 | Триада | WAN R25-R28(Чокурдах) |
| 100.95.0.0/30 | Триада | WAN R26-R28(Чокурдах) |
| 89.100.1.0/30 | Триада | WAN R24-R18(C.-Петербург) |
| 89.95.0.0/30 | Триада | WAN R26-R18(C.-Петербург) |
| 50.100.1.0/30 | Триада | WAN R25-R27(Лабытнанги) |
| 60.122.1.0/30 | Триада | WAN R23-R22(Киторн) |
| 70.155.1.0/30 | Триада | WAN R24-R21(Ламас) |

##### ***Киторн (AS 101)***
| Network / Mask | Описание | Линк |
| :------------- | :------- | :--- |
| 10.15.0.22/32 | Киторн | Loopback0 |
| 60.122.1.0/30 | Киторн | WAN R22-R23(Триада) |
| 212.100.1.0/30 | Киторн | WAN R22-R14(Москва) |
| 112.95.0.0/30 | Киторн | WAN R22-R21(Ламас) |

##### ***Ламас (AS 301)***
| Network / Mask | Описание | Линк |
| :------------- | :------- | :--- |
| 10.16.0.21/32 | Ламас | Loopback0 |
| 70.155.1.0/30 | Ламас | WAN R21-R24(Триада) |
| 212.95.0.0/30 | Ламас | WAN R21-R15(Москва) |
| 112.95.0.0/30 | Ламас | WAN R21-R22(Киторн) |

### Настройка ip-адресов на активных портах
##### ***Москва (AS 1001)***
| Device | Interface | IP-Address | Mask | Description |
| :----- | :-------- | :--------- | :--- | :---------- |
| R12 | e0/0 | 10.120.0.29 | 255.255.255.252 | PtP to MLSW4 |
| R12 | e0/1 | 10.120.0.33 | 255.255.255.252 | PtP to MLSW5 |
| R12 | e0/2 | 10.120.0.2 | 255.255.255.252 | PtP to R14 |
| R12 | e0/3 | 10.120.0.22 | 255.255.255.252 | PtP to R15 |
| R13 | e0/0 | 10.120.0.37 | 255.255.255.252 | PtP to MLSW5 |
| R13 | e0/1 | 10.120.0.41 | 255.255.255.252 | PtP to MLSW4 |
| R13 | e0/2 | 10.120.0.18 | 255.255.255.252 | PtP to R15 |
| R13 | e0/3 | 10.120.0.6 | 255.255.255.252 | PtP to R14 |
| R14 | e0/0 | 10.120.0.1 | 255.255.255.252 | PtP to R12 |
| R14 | e0/1 | 10.120.0.5 | 255.255.255.252 | PtP to R13 |
| R14 | e0/2 | 212.100.1.2 | 255.255.255.252 | WAN to Киторн |
| R14 | e0/3 | 10.120.0.9 | 255.255.255.252 | PtP to R19 |
| R14 | e1/0 | 10.120.0.1 | 255.255.255.252 | PtP to R15 |
| R14 | 1/0 |  10.120.0.13 | 255.255.255.252 | PtP to R15 |
| R15 | e0/0 | 10.120.0.17 | 255.255.255.252 | PtP to R13 |
| R15 | e0/1 | 10.120.0.21 | 255.255.255.252 | PtP to R12 |
| R15 | e0/2 | 212.95.0.2 | 255.255.255.252 | WAN to Ламас |
| R15 | e0/3 | 10.120.0.25 | 255.255.255.252 | PtP to R20 |
| R15 | 1/0 |  10.120.0.14 | 255.255.255.252 | PtP to R14 |
| R19 | e0/0 | 10.120.0.10 | 255.255.255.252 | PtP to R14 |
| R20 | e0/0 | 10.120.0.26 | 255.255.255.252 | PtP to R15 |
| MLSW4 | e1/0 | 10.120.0.30 | 255.255.255.252 | PtP to R12 |
| MLSW4 | e1/1 | 10.120.0.42 | 255.255.255.252 | PtP to R13 |
| MLSW4 | Vlan_1210 | 10.244.0.2(0.1) | 255.255.255.0 | MGMT_SW |
| MLSW4 | Vlan_20 | 192.168.0.2(0.1) | 255.255.255.0 | VPC1_Vlan_20 |
| MLSW4 | Vlan_30 | 192.168.1.2(0.1) | 255.255.255.0 | VPC7_Vlan_30 |
| MLSW4 | e1/0 | 10.120.0.38 | 255.255.255.252 | PtP to R13 |
| MLSW4 | e1/1 | 10.120.0.34 | 255.255.255.252 | PtP to R12 |
| MLSW5 | Vlan_1210 | 10.244.0.3(0.1) | 255.255.255.0 | MGMT_SW |
| MLSW5 | Vlan_20 | 192.168.0.3(0.1) | 255.255.255.0 | VPC1_Vlan_20 |
| MLSW5 | Vlan_30 | 192.168.1.3(0.1) | 255.255.255.0 | VPC7_Vlan_30 |

##### ***C.-Петербург (AS 2042)***
| Device | Interface | IP-Address | Mask | Description |
| :----- | :-------- | :--------- | :--- | :---------- |
| R16 | e0/0.1210 | 10.243.0.3(0.1) | 255.255.255.0 | MGMT_SW |
| R16 | e0/0.40 | 192.168.64.3(0.1) | 255.255.255.0 | VPC8_Vlan_40 |
| R16 | e0/0.50 | 192.168.65.3(0.1) | 255.255.255.0 | VPC_Vlan_50 |
| R16 | e0/1 | 10.121.0.2 | 255.255.255.252 | PtP to R18 |
| R16 | e0/2 | 10.121.0.14 | 255.255.255.252 | PtP to R17 |
| R16 | e0/3 | 10.121.0.9 | 255.255.255.252 | PtP to R32 |
| R17 | e0/0.1210 | 10.243.0.2(0.1) | 255.255.255.0 | MGMT_SW |
| R17 | e0/0.40 | 192.168.64.2(0.1) | 255.255.255.0 | VPC8_Vlan_40 |
| R17 | e0/0.50 | 192.168.65.2(0.1) | 255.255.255.0 | VPC_Vlan_50 |
| R17 | e0/1 | 10.121.0.6 | 255.255.255.252 | PtP to R17 |
| R17 | e0/2 | 10.121.0.13 | 255.255.255.252 | PtP to R16 |
| R18 | e0/0 | 10.121.0.1 | 255.255.255.252 | PtP to R16 |
| R18 | e0/1 | 10.121.0.5 | 255.255.255.252 | PtP to R17 |
| R18 | e0/2 | 89.100.1.2| 255.255.255.252 | WAN to Триада |
| R18 | e0/3 | 89.95.0.2 | 255.255.255.252 | WAN_Rez to Триада |
| R32 | e0/0 | 10.121.0.10 | 255.255.255.252 | PtP to R16 |

##### ***Чокурдах***
| Device | Interface | IP-Address | Mask | Description |
| :----- | :-------- | :--------- | :--- | :---------- |
| R28 | e0/0 | 100.95.0.2 | 255.255.255.252 | WAN_Rez to Триада |
| R28 | e0/1 | 100.100.1.2 | 255.255.255.252 | WAN to Триада |
| R28 | e0/2.1210 | 10.242.0.1 | 255.255.255.252 | MGMT_SW |
| R28 | e0/1.60 | 192.168.128.0 | 255.255.255.0 | VPC30_Vlan_60 |
| R28 | e0/1.70 | 192.168.129.0 | 255.255.255.0 | VPC31_Vlan_70 |

##### ***Лабытнанги***
| Device | Interface | IP-Address | Mask | Description |
| :----- | :-------- | :--------- | :--- | :---------- |
| R27 | e0/0 | 50.100.1.2 | 255.255.255.252 | WAN to Триада |

##### ***Триада (AS 520)***
| Device | Interface | IP-Address | Mask | Description |
| :----- | :-------- | :--------- | :--- | :---------- |
| R23 | e0/0 | 60.122.1.2 | 255.255.255.252 | WAN to Киторн |
| R23 | e0/1 | 10.241.0.1 | 255.255.255.252 | PtP to R25 |
| R23 | e0/2 | 10.241.0.5 | 255.255.255.252 | PtP to R24 |
| R24 | e0/0 | 70.155.1.2 | 255.255.255.252 | WAN to Ламас |
| R24 | e0/1 | 10.241.0.9 | 255.255.255.252 | PtP to R26 |
| R24 | e0/2 | 10.241.0.6 | 255.255.255.252 | PtP to R23 |
| R24 | e0/3 | 89.100.1.1 | 255.255.255.252 | WAN to C.-Петербург |
| R25 | e0/0 | 10.241.0.2 | 255.255.255.252 | PtP to R23 |
| R25 | e0/1 | 50.100.1.1 | 255.255.255.252 | WAN to Лабытнанги |
| R25 | e0/2 | 10.241.0.13 | 255.255.255.252 | PtP to R26 |
| R25 | e0/3 | 100.100.1.1 | 255.255.255.252 | WAN to Чокурдах |
| R26 | e0/0 | 10.241.0.10 | 255.255.255.252 | PtP to R24 |
| R26 | e0/1 | 100.95.0.1 | 255.255.255.252 | WAN_Rez to Чокурдах |
| R26 | e0/2 | 10.241.0.14 | 255.255.255.252 | PtP to R25 |
| R26 | e0/3 | 89.95.0.1 | 255.255.255.252 | WAN_Rez to C.-Петербург |

##### ***Киторн (AS 101)***
| Device | Interface | IP-Address | Mask | Description |
| :----- | :-------- | :--------- | :--- | :---------- |
| R22 | e0/0 | 212.100.1.1 | 255.255.255.252 | WAN to Москва |
| R22 | e0/1 | 112.95.0.1 | 255.255.255.252 | WAN to Ламас |
| R22 | e0/2 | 60.122.1.1 | 255.255.255.252 | WAN to Триада |

##### ***Ламас (AS 301)***
| Device | Interface | IP-Address | Mask | Description |
| :----- | :-------- | :--------- | :--- | :---------- |
| R21 | e0/0 | 212.95.0.1 | 255.255.255.252 | WAN to Москва |
| R21 | e0/1 | 112.95.0.2 | 255.255.255.252 | WAN to Киторн |
| R21 | e0/2 | 70.155.1.1 | 255.255.255.252 | WAN to Триада |

### Настройка VPC в каждом офисе в своем VLAN

| Device | IP-Address | Mask | Gateway | VLAN | Description |
| :----- | :--------- | :--- | :------ | :--- | :---------- |
| VPC1 | 192.168.0.4 | 255.255.255.0 | 192.168.0.1 | Vlan_20 | Москва |
| VPC7 | 192.168.1.4 | 255.255.255.0 | 192.168.1.1 | Vlan_30 | Москва |
| VPC8 | 192.168.64.4 | 255.255.255.0 | 192.168.64.1 | Vlan_40 | C.-Петербург |
| VPC | 192.168.65.4 | 255.255.255.0 | 192.168.65.1 | Vlan_50 | C.-Петербург |
| VPC30 | 192.168.128.2 | 255.255.255.0 | 192.168.128.1 | Vlan_60 | Чокурдах |
| VPC31 | 192.168.129.2 | 255.255.255.0 | 192.168.129.1 | Vlan_70 | Чокурдах |

### Настройка VLAN/Loopbackup interface управления для сетевых устройств
| Device | VLAN/Loopback | IP-Address | Mask | Gateway | Description |
| :----- | :------------ | :--------- | :--- | :------ | :---------- |
| R12 | lo0 | 10.10.0.12 | 255.255.255.255 | - | Москва |
| R13 | lo0 | 10.10.0.13 | 255.255.255.255 | - | Москва |
| R14 | lo0 | 10.10.0.14 | 255.255.255.255 | - | Москва |
| R15 | lo0 | 10.10.0.15 | 255.255.255.255 | - | Москва |
| R19 | lo0 | 10.10.0.19 | 255.255.255.255 | - | Москва |
| R19 | lo0 | 10.10.0.20 | 255.255.255.255 | - | Москва |
| MLSW4 | lo0 | 10.10.0.4 | 255.255.255.255 | - | Москва |
| MLSW5 | lo0 | 10.10.0.5 | 255.255.255.255 | - | Москва |
| SW2 | MGMT_Vlan_1210 | 10.244.0.4 | 255.255.255.0 | 10.244.0.1 | Москва |
| SW3 | MGMT_Vlan_1210 | 10.244.0.5 | 255.255.255.0 | 10.244.0.1 | Москва |
| R16 | lo0 | 10.11.0.16 | 255.255.255.255 | - | C.-Петербург |
| R17 | lo0 | 10.11.0.17 | 255.255.255.255 | - | C.-Петербург |
| R18 | lo0 | 10.11.0.16 | 255.255.255.255 | - | C.-Петербург |
| R32 | lo0 | 10.11.0.32 | 255.255.255.255 | - | C.-Петербург |
| SW9 | MGMT_Vlan_1210 | 10.243.0.4 | 255.255.255.0 | 10.243.0.1 | C.-Петербург |
| SW10 | MGMT_Vlan_1210 | 10.243.0.5 | 255.255.255.0 | 10.243.0.1 | C.-Петербург |
| R28 | lo0 | 10.12.0.1 | 255.255.255.255 | - | Чокурдах |
| SW29 | MGMT_Vlan_1210 | 10.242.0.2 | 255.255.255.252 | 10.242.0.1 | MGMT_SW |
| R27 | lo0 | 10.13.0.1 | 255.255.255.255 | - | Лабытнанги |
| R23 | lo0 | 10.14.0.23 | 255.255.255.255 | - | Триада |
| R24 | lo0 | 10.14.0.24 | 255.255.255.255 | - | Триада |
| R25 | lo0 | 10.14.0.25 | 255.255.255.255 | - | Триада |
| R26 | lo0 | 10.14.0.26 | 255.255.255.255 | - | Триада |
| R22 | lo0 | 10.15.0.22 | 255.255.255.255 | - | Киторн |
| R21 | lo0 | 10.16.0.21 | 255.255.255.255 | - | Ламас |
